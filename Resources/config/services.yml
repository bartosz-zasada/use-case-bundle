parameters:
    lamudi_use_case.container.class: Lamudi\UseCaseBundle\Container\UseCaseContainer
    lamudi_use_case.request_factory.class: Lamudi\UseCaseBundle\Factory\UseCaseRequestFactory
    lamudi_use_case.request.resolver.class: Lamudi\UseCaseBundle\Factory\RequestResolver
    lamudi_use_case.request.normalizer.class: Lamudi\UseCaseBundle\Factory\RequestNormalizer
    lamudi_use_case.request.initializer.class: Lamudi\UseCaseBundle\Factory\RequestInitializer
    lamudi_use_case.use_case_handler.class: Lamudi\UseCaseBundle\Handler\HttpJsonUseCaseHandler
    lamudi_use_case.request_body_converter.class: Lamudi\UseCaseBundle\Request\RequestBodyParamConverter

services:
    lamudi_use_case.container:
        class: "%lamudi_use_case.container.class%"

    lamudi_use_case.request_body_converter:
        class: "%lamudi_use_case.request_body_converter.class%"
        arguments: ["@serializer"]
        tags:
            - { name: request.param_converter, priority: -100, converter: lamudi_use_case.request_body_converter }

    lamudi_use_case.request_factory:
        class: "%lamudi_use_case.request_factory.class%"
        arguments: ["@lamudi_use_case.request.resolver", "@lamudi_use_case.request.normalizer", "@lamudi_use_case.request.initializer"]

    lamudi_use_case.request.resolver:
        class: "%lamudi_use_case.request.resolver.class%"

    lamudi_use_case.request.normalizer:
        class: "%lamudi_use_case.request.normalizer.class%"

    lamudi_use_case.request.initializer:
        class: "%lamudi_use_case.request.initializer.class%"

    lamudi_use_case.use_case_handler:
        class: "%lamudi_use_case.use_case_handler.class%"
        arguments: ["@serializer.encoder.json"]
